<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="669px" preserveAspectRatio="none" style="width:894px;height:669px;background:#FFFFFF;" version="1.1" viewBox="0 0 894 669" width="894px" zoomAndPan="magnify"><title>Flujo de Creaci&#243;n de chat</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="200.4844" x="342.7842" y="27.9951">Flujo de Creaci&#243;n de chat</text><g><title>Usuario</title><rect fill="#000000" fill-opacity="0.00000" height="369.7266" width="8" x="30.6021" y="204.7813"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="34" x2="34" y1="204.7813" y2="574.5078"/></g><g><title>Cliente Web/App</title><rect fill="#000000" fill-opacity="0.00000" height="369.7266" width="8" x="199.5317" y="204.7813"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="203.0298" x2="203.0298" y1="204.7813" y2="574.5078"/></g><g><title>API Gateway</title><rect fill="#000000" fill-opacity="0.00000" height="369.7266" width="8" x="382.7627" y="204.7813"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="386.541" x2="386.541" y1="204.7813" y2="574.5078"/></g><g><title>Servicio de</title><rect fill="#000000" fill-opacity="0.00000" height="369.7266" width="8" x="499.0376" y="204.7813"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="502.9844" x2="502.9844" y1="204.7813" y2="574.5078"/></g><g><title>Servicio de </title><rect fill="#000000" fill-opacity="0.00000" height="369.7266" width="8" x="612.0825" y="204.7813"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="615.0908" x2="615.0908" y1="204.7813" y2="574.5078"/></g><g><title>Base de Datos</title><rect fill="#000000" fill-opacity="0.00000" height="369.7266" width="8" x="824.4531" y="204.7813"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="827.8535" x2="827.8535" y1="204.7813" y2="574.5078"/></g><g class="participant participant-head" data-participant="user"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.2041" x="5" y="201.4795">Usuario</text><ellipse cx="34.6021" cy="136.9844" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M34.6021,144.9844 L34.6021,171.9844 M21.6021,152.9844 L47.6021,152.9844 M34.6021,171.9844 L21.6021,186.9844 M34.6021,171.9844 L47.6021,186.9844" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="user"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.2041" x="5" y="586.5029">Usuario</text><ellipse cx="34.6021" cy="598.3047" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M34.6021,606.3047 L34.6021,633.3047 M21.6021,614.3047 L47.6021,614.3047 M34.6021,633.3047 L21.6021,648.3047 M34.6021,633.3047 L47.6021,648.3047" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="client"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131.0039" x="138.0298" y="173.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.0039" x="145.0298" y="193.4795">Cliente Web/App</text></g><g class="participant participant-tail" data-participant="client"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131.0039" x="138.0298" y="573.5078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117.0039" x="145.0298" y="593.5029">Cliente Web/App</text></g><g class="participant participant-head" data-participant="gateway"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102.4434" x="335.541" y="157.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.4434" x="342.541" y="177.1826">API Gateway</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.6787" x="358.9233" y="193.4795">(APISIX)</text></g><g class="participant participant-tail" data-participant="gateway"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102.4434" x="335.541" y="573.5078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.4434" x="342.541" y="593.5029">API Gateway</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55.6787" x="358.9233" y="609.7998">(APISIX)</text></g><g class="participant participant-head" data-participant="auth"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110.1064" x="447.9844" y="157.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5332" x="464.271" y="177.1826">Servicio de</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96.1064" x="454.9844" y="193.4795">Autenticaci&#243;n</text></g><g class="participant participant-tail" data-participant="auth"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="110.1064" x="447.9844" y="573.5078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5332" x="464.271" y="593.5029">Servicio de</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96.1064" x="454.9844" y="609.7998">Autenticaci&#243;n</text></g><g class="participant participant-head" data-participant="chat"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.9834" x="568.0908" y="157.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5332" x="575.0908" y="177.1826">Servicio de</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32.7168" x="599.7241" y="193.4795">Chat</text></g><g class="participant participant-tail" data-participant="chat"><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.9834" x="568.0908" y="573.5078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77.5332" x="575.0908" y="593.5029">Servicio de</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32.7168" x="599.7241" y="609.7998">Chat</text></g><g class="participant participant-head" data-participant="chatDB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.1992" x="774.8535" y="185.1826">Base de Datos</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.0107" x="805.4478" y="201.4795">Chats</text><path d="M810.4531,136.1875 C810.4531,126.1875 828.4531,126.1875 828.4531,126.1875 C828.4531,126.1875 846.4531,126.1875 846.4531,136.1875 L846.4531,162.1875 C846.4531,172.1875 828.4531,172.1875 828.4531,172.1875 C828.4531,172.1875 810.4531,172.1875 810.4531,162.1875 L810.4531,136.1875" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M810.4531,136.1875 C810.4531,146.1875 828.4531,146.1875 828.4531,146.1875 C828.4531,146.1875 846.4531,146.1875 846.4531,136.1875" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><g class="participant participant-tail" data-participant="chatDB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.1992" x="774.8535" y="586.5029">Base de Datos</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.0107" x="805.4478" y="602.7998">Chats</text><path d="M810.4531,616.1016 C810.4531,606.1016 828.4531,606.1016 828.4531,606.1016 C828.4531,606.1016 846.4531,606.1016 846.4531,616.1016 L846.4531,642.1016 C846.4531,652.1016 828.4531,652.1016 828.4531,652.1016 C828.4531,652.1016 810.4531,652.1016 810.4531,642.1016 L810.4531,616.1016" fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M810.4531,616.1016 C810.4531,626.1016 828.4531,626.1016 828.4531,626.1016 C828.4531,626.1016 846.4531,626.1016 846.4531,616.1016" fill="none" style="stroke:#181818;stroke-width:1.5;"/></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="887.0527" x="0" y="235.3477"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="887.0527" y1="235.3477" y2="235.3477"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="887.0527" y1="238.3477" y2="238.3477"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2;" width="206.5244" x="340.2642" y="224.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="187.9985" x="346.2642" y="240.8481">Flujo de Creaci&#243;n de Chat</text><g class="message" data-participant-1="user" data-participant-2="client"><polygon fill="#181818" points="191.5317,275.0469,201.5317,279.0469,191.5317,283.0469,195.5317,279.0469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="34.6021" x2="197.5317" y1="279.0469" y2="279.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.7681" x="41.6021" y="273.981">Solicita crear chat</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23.0293" x="163.5024" y="273.981">1.0</text></g><g class="message" data-participant-1="client" data-participant-2="gateway"><polygon fill="#0000FF" points="374.7627,319.3125,384.7627,323.3125,374.7627,327.3125,378.7627,323.3125" style="stroke:#0000FF;stroke-width:1;"/><line style="stroke:#0000FF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="203.5317" x2="380.7627" y1="323.3125" y2="323.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.0693" x="210.5317" y="303.1138">HTTP GET /chat/new</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23.0293" x="346.7334" y="303.1138">1.1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.4438" x="210.5317" y="318.2466">{ACCESS_TOKEN}</text></g><g class="message" data-participant-1="gateway" data-participant-2="chat"><polygon fill="#800080" points="604.0825,363.5781,614.0825,367.5781,604.0825,371.5781,608.0825,367.5781" style="stroke:#800080;stroke-width:1;"/><line style="stroke:#800080;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="386.7627" x2="610.0825" y1="367.5781" y2="367.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.855" x="393.7627" y="347.3794">Redirige la petici&#243;n</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23.0293" x="523.75" y="347.3794">1.2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71.8999" x="393.7627" y="362.5122">{USER_ID}</text></g><g class="message" data-participant-1="chat" data-participant-2="chat"><line style="stroke:#181818;stroke-width:1;" x1="616.0825" x2="658.0825" y1="396.7109" y2="396.7109"/><line style="stroke:#181818;stroke-width:1;" x1="658.0825" x2="658.0825" y1="396.7109" y2="409.7109"/><line style="stroke:#181818;stroke-width:1;" x1="617.0825" x2="658.0825" y1="409.7109" y2="409.7109"/><polygon fill="#181818" points="627.0825,405.7109,617.0825,409.7109,627.0825,413.7109,623.0825,409.7109" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171.209" x="623.0825" y="391.645">Crea directorios y ficheros</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23.0293" x="798.4238" y="391.645">2.1</text></g><g class="message" data-participant-1="chat" data-participant-2="chatDB"><polygon fill="#181818" points="816.4531,434.8438,826.4531,438.8438,816.4531,442.8438,820.4531,438.8438" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="616.0825" x2="822.4531" y1="438.8438" y2="438.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.8354" x="623.0825" y="433.7778">Crea un nuevo chat</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23.0293" x="755.0503" y="433.7778">2.2</text></g><g class="message" data-participant-1="chatDB" data-participant-2="chat"><polygon fill="#181818" points="627.0825,463.9766,617.0825,467.9766,627.0825,471.9766,623.0825,467.9766" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="621.0825" x2="827.4531" y1="467.9766" y2="467.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.3853" x="633.0825" y="462.9106">Confirmaci&#243;n</text></g><g class="message" data-participant-1="chat" data-participant-2="gateway"><polygon fill="#800080" points="397.7627,508.2422,387.7627,512.2422,397.7627,516.2422,393.7627,512.2422" style="stroke:#800080;stroke-width:1;"/><line style="stroke:#800080;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="391.7627" x2="615.0825" y1="512.2422" y2="512.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="98.0142" x="403.7627" y="492.0435">Nuevo Chat Ok</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23.0293" x="505.9092" y="492.0435">3.1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72.5728" x="403.7627" y="507.1763">{CHAT_ID}</text></g><g class="message" data-participant-1="gateway" data-participant-2="client"><polygon fill="#0000FF" points="214.5317,552.5078,204.5317,556.5078,214.5317,560.5078,210.5317,556.5078" style="stroke:#0000FF;stroke-width:1;"/><line style="stroke:#0000FF;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="208.5317" x2="385.7627" y1="556.5078" y2="556.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93.1582" x="220.5317" y="536.3091">HTTP 200 - Ok</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="23.0293" x="317.8223" y="536.3091">3.2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72.5728" x="220.5317" y="551.4419">{CHAT_ID}</text></g><rect fill="#DDDDDD" height="58.8906" rx="7.5" ry="7.5" style="stroke:#000000;stroke-width:1;" width="252.8809" x="316.5859" y="54.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119.54" x="321.5859" y="72.292">Comunicaciones:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="8.9004" x="321.5859" y="88.5889">&#160;&#160;</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.0117" x="330.4863" y="88.5889">REST</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189.0684" x="366.498" y="88.5889">: Comunicaci&#243;n HTTP REST</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="8.9004" x="321.5859" y="104.8857">&#160;&#160;</text><text fill="#800080" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.832" x="330.4863" y="104.8857">gRPC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.3652" x="367.3184" y="104.8857">: Comunicaci&#243;n gRPC</text><!--SRC=[TPBHQjim58RlzHG7xsOpP4czEzC47CThmw0DiSi6ooYASvfeKoKZIorbzAds27knwSXssi1w4opv_tx_vp-nmag4wBDqFpNi47A3l1P__oWwr0Tk8yOaxb7jmEg6vVhUAL5xYLROfWpWlDPIctGh7SxMHLcTZyF5B8KNBTbTLjKAI03mGZNED19d-_KgVukZTnwX05qEnXYlhJOGtRIE6w4Zu2su5WrhkB6Y5WrN5g9S2bGMuIjknrdJ15KTxavrsMe95zpY8t_QgFV-L2w_VGZgVNTxAY_HFFW3bRLHcRFURyWQ8ExiuKq2DYgdJaCM_y1stF8jR_q6vlJh5GjkTTl9sgDkCMTiEeN_RucaC9qoHXt0QDPFcKAffV-kvL1xkGb64CTd7oTnp3eDZBw_eytzy5G_RTfjwgAeO4p4ME5ZeCxYUAD-PtbUbELjTVsbk7fch8V8fzibEH6MmXftmeWzWkJG8DL1USaf2KutPR6-NIwUMSXrn6Wqy2JIZeLkuGdkH7r0un_ZEA4OFT4ZYtaFEGNAuOCU1ateGwoJ7DNqzr9tmjnt_R7UwtNyOn5NmItKU_tB6txgEyWlioeaVpNzqEBGVIWncKnWDB392ViF]--></g></svg>